void bar() {
    char *cp;
    cp = '\0'; // должно быть *cp = '\0'
}
